<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Aurelo Data Engine — Enterprise UI Mock (Dense Technical Dashboard)</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">
  <style>
    :root{ --bg:#0b0d12; --panel:#0f1219; --panel-2:#0e1117; --ink:#e6e8ea; --muted:#9aa3ad; --line:#1b2029; --accent:#c0c6cf; --green:#5fb37c; --amber:#caa855; --red:#c2686b; }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;background:var(--bg);color:var(--ink);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,'Helvetica Neue',Arial,sans-serif}
    .app{display:grid;grid-template-columns:320px 1fr;grid-template-rows:64px 1fr;height:100vh}
    .topbar{grid-column:1/3;display:flex;align-items:center;gap:16px;padding:12px 18px;border-bottom:1px solid var(--line);background:linear-gradient(180deg,rgba(17,21,34,.95),rgba(17,21,34,.7));position:sticky;top:0;z-index:50}
    .brand{font-weight:700;letter-spacing:.3px}
    .env{margin-left:auto;display:flex;gap:14px;align-items:center;color:var(--muted);font-size:12px}
    .env .pill{border:1px solid var(--line);border-radius:8px;padding:6px 10px;color:#c9ced6}

    .sidebar{grid-row:2/3;background:linear-gradient(180deg,var(--panel),var(--panel-2));border-right:1px solid var(--line);padding:14px 12px;overflow:auto}
    .section-title{font-size:12px;color:#8c94a1;margin:18px 8px 8px}
    .nav a{display:flex;gap:10px;align-items:center;padding:10px 12px;margin:4px;border-radius:8px;color:#c9ced6;text-decoration:none;border:1px solid transparent;font-size:14px}
    .nav a.active,.nav a:hover{background:#0f141d;border-color:#212938}

    .content{grid-row:2/3;overflow:auto;padding:18px}
    .grid{display:grid;grid-template-columns:repeat(12,1fr);gap:14px}
    .card{background:linear-gradient(180deg,rgba(22,26,36,.95),rgba(17,21,31,.95));border:1px solid var(--line);border-radius:10px;padding:14px}
    .card h3{margin:0 0 12px;font-size:13px;color:#cad1d9;font-weight:600}
    .sub{color:var(--muted);font-size:12px}

    .table{width:100%;border-collapse:collapse}
    .table th,.table td{border-bottom:1px solid var(--line);padding:8px;text-align:left;font-size:12px;color:#c9ced6;vertical-align:top}
    .table th{color:#98a3af;font-weight:600}

    .status{padding:3px 8px;border-radius:999px;font-size:11px;border:1px solid var(--line);background:#0f141d;color:#c9ced6;white-space:nowrap}
    .status.ok{color:#a8d8b9}
    .status.warn{color:#e2cd8e}
    .status.bad{color:#e1a3a6}

    pre,code,.mono{font-family:'JetBrains Mono',ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;font-size:12px;line-height:1.5}
    pre{background:#0e131c;border:1px solid var(--line);border-radius:8px;padding:12px;white-space:pre-wrap;color:#cfd6df}

    .tabs{display:flex;gap:8px;margin-bottom:10px}
    .tab{padding:8px 12px;border-radius:8px;border:1px solid var(--line);cursor:pointer;font-size:12.5px;color:#c9ced6;background:#0f141d}
    .tab.active{background:#0c1017;border-color:#2a3446}

    .matrix{display:grid;grid-template-columns:220px repeat(6,1fr);border:1px solid var(--line);border-radius:8px;overflow:hidden}
    .matrix div{border-bottom:1px solid var(--line);border-right:1px solid var(--line);padding:8px 10px;font-size:12px}
    .matrix .head{background:#0f141d;color:#9aa3ad;font-weight:600}
    .matrix .y{background:#0b0f16;color:#a9b1bb}

    .dag{background:#0e121a;border:1px solid var(--line);border-radius:8px;padding:12px;color:#b7c0cb;font-family:'JetBrains Mono',monospace;font-size:12px}
    .footer{margin-top:18px;color:#748194;font-size:12px;display:flex;justify-content:space-between;opacity:.9}

    @media (max-width: 1280px){.app{grid-template-columns:0 1fr}}
  </style>
</head>
<body>
<div class="app">
  <div class="topbar">
    <div class="brand">Aurelo Data Engine</div>
    <div class="env">
      <span class="pill">ENV: Staging</span>
      <span class="pill">Cluster: k8s-us-east-1 (12 nodes / 48 GPUs)</span>
      <span class="pill">SSO: Azure AD</span>
      <span class="pill">Audit: ON</span>
      <span class="pill">SLO: p95 ≤ 60 ms</span>
    </div>
  </div>

  <aside class="sidebar">
    <div class="section-title">Core</div>
    <nav class="nav" id="primaryNav">
      <a href="#" data-view="overview" class="active">Overview</a>
      <a href="#" data-view="datasets">Datasets</a>
      <a href="#" data-view="profiles">Profiles & Quality</a>
      <a href="#" data-view="labeling">Labeling</a>
      <a href="#" data-view="training">Training</a>
      <a href="#" data-view="registry">Registry</a>
      <a href="#" data-view="deploy">Deploy</a>
      <a href="#" data-view="observability">Observability</a>
      <a href="#" data-view="security">Security & Governance</a>
      <a href="#" data-view="admin">Admin</a>
      <a href="#" data-view="api">API & SDK</a>
    </nav>
  </aside>

  <main class="content">

    <!-- OVERVIEW / CONTROL PLANE (NO CHARTS, DENSE DATA) -->
    <section id="view-overview">
      <div class="grid">
        <!-- System Snapshot -->
        <div class="card" style="grid-column:span 5">
          <h3>System Snapshot</h3>
          <table class="table">
            <thead><tr><th>Field</th><th>Value</th><th>Notes</th></tr></thead>
            <tbody>
              <tr><td>Cluster</td><td>k8s-us-east-1</td><td>12 nodes / 48×A100 80GB</td></tr>
              <tr><td>Control Plane</td><td>FastAPI Orchestrator</td><td>Latency 7 ms; Q depth 12</td></tr>
              <tr><td>Message Bus</td><td>RabbitMQ 3.13</td><td>Celery queues: prelabel(4), train(8), eval(2)</td></tr>
              <tr><td>Object Store</td><td>MinIO</td><td>Used 11.2 TB / 120 TB</td></tr>
              <tr><td>Tracking</td><td>MLflow 2.x</td><td>Experiments 342; Runs 18,410</td></tr>
              <tr><td>Auth</td><td>Azure AD (OIDC)</td><td>RBAC: 6 roles / 14 groups</td></tr>
              <tr><td>Audit</td><td>Enabled</td><td>Retention 365 days (immutable)</td></tr>
            </tbody>
          </table>
        </div>

        <!-- Ingestion Metrics (detailed) -->
        <div class="card" style="grid-column:span 7">
          <h3>Ingestion Metrics — Last 24h</h3>
          <table class="table">
            <thead><tr><th>Source</th><th>Items</th><th>Bytes</th><th>Valid%</th><th>Dedup%</th><th>Errors</th><th>Latency</th></tr></thead>
            <tbody>
              <tr><td>Azure Blob (raw_text)</td><td>14,122,844</td><td>402.1 GB</td><td>99.94</td><td>99.98</td><td>214</td><td>p95 210 ms</td></tr>
              <tr><td>S3 (images_v1)</td><td>382,440</td><td>1.92 TB</td><td>99.99</td><td>99.97</td><td>51</td><td>p95 380 ms</td></tr>
              <tr><td>Snowflake (invoices)</td><td>880,334</td><td>286 GB</td><td>99.91</td><td>99.96</td><td>402</td><td>p95 620 ms</td></tr>
              <tr><td>Kafka (sensor_iot)</td><td>1.2B rows</td><td>5.8 TB</td><td>99.89</td><td>99.95</td><td>1,124</td><td>p95 140 ms</td></tr>
            </tbody>
          </table>
          <div class="sub">Schema enforcement: Avro/JSON; hash verify; idempotent commit with audit id.</div>
        </div>

        <!-- DAG & Logs side-by-side -->
        <div class="card" style="grid-column:span 6">
          <h3>Execution DAG</h3>
          <div class="dag">[Ingest v3.4] ─▶ [Prelabel] ─▶ [Human QA] ─▶ [Train #249]
                               │                      │
                               └────────► [Active Learning] ───▶ [Retrain]

[Train #249] ─▶ [Eval Suite] ─▶ [Register v1.7] ─▶ [Deploy Canary 20%] ─▶ [Full Rollout]
  └─ metrics: acc=0.923, f1=0.887, driftΔ=-0.006
          </div>
        </div>
        <div class="card" style="grid-column:span 6">
          <h3>Control Plane Logs (last 60s)</h3>
          <pre>[12:14:34.221] api: ingest.batch_commit ok items=24112 dur=2.1s
[12:14:35.912] prelabel.llm: mean_conf=0.91 p10=0.77 p90=0.97
[12:15:02.144] train.dispatch: run=249 template=llm_finetune gpus=4 status=queued
[12:16:40.002] train.metrics: run=249 loss=1.27→1.09 gpu_util=0.89
[12:18:11.774] scheduler: backfill queue=train slots=2 policy=fair
[12:19:05.815] eval: run=249 accuracy=0.923 f1=0.887 drift_delta=-0.006
[12:19:06.102] registry: model=aurelo-llm version=v1.7 run=249 link=ok
[12:19:07.431] deploy: canary rollout 20% p95=42ms req_s=12k</pre>
        </div>

        <!-- K8s Deployment + Spark Job Spec -->
        <div class="card" style="grid-column:span 6">
          <h3>Kubernetes Deployment (training-worker)</h3>
          <pre>apiVersion: apps/v1
kind: Deployment
metadata:
  name: training-worker
spec:
  replicas: 4
  selector: {matchLabels: {app: training-worker}}
  template:
    metadata: {labels: {app: training-worker}}
    spec:
      nodeSelector: {accelerator: nvidia}
      containers:
        - name: worker
          image: registry.local/aurelo/worker:0.3.1
          resources:
            limits: {nvidia.com/gpu: 1}
          env:
            - {name: BROKER_URL, value: amqp://rabbitmq}
            - {name: MLFLOW_TRACKING_URI, value: http://mlflow:5000}
          volumeMounts:
            - {name: cache, mountPath: /cache}
      volumes:
        - {name: cache, emptyDir: {}}
</pre>
        </div>
        <div class="card" style="grid-column:span 6">
          <h3>Spark Job (ETL: invoices_ocr_corp)</h3>
          <pre>{
  "job": "invoices_etl_v0_9",
  "input": "snowflake://FINANCE/INVOICES",
  "transform": ["ocr_parse","normalize_fields","currency_fx"],
  "output": "s3://aurelo/datasets/invoices_ocr_corp/v0.9/manifest.jsonl",
  "dedup": {"method": "minhash", "threshold": 0.85},
  "schema": "schemas/invoice_v09.avsc",
  "fail_on_error": false
}</pre>
        </div>

        <!-- API Spec & Examples -->
        <div class="card" style="grid-column:span 6">
          <h3>REST API (OpenAPI excerpt)</h3>
          <pre>POST /datasets
POST /datasets/{id}/versions
POST /label-tasks
POST /prelabel
POST /train
POST /evaluate
POST /models/{id}/register
POST /deploy
GET  /jobs/{id}
</pre>
        </div>
        <div class="card" style="grid-column:span 6">
          <h3>Python SDK (quickstart)</h3>
          <pre>from aurelo import Aurelo
cli = Aurelo(base_url="https://api.aurelo.local", token="...")

# Create and upload manifest
ds = cli.datasets.create(name="retail_text_2025Q3", modality="text")
cli.datasets.upload_manifest(ds.id, "manifest.jsonl")

# Labeling policy and training
cli.labeling.start(ds.current_version_id, {"llm_assist":True,"confidence_threshold":0.9})
run = cli.train.start(ds.current_version_id, template="llm_finetune", params={"lr":2e-5,"bf16":True})
model_v = cli.registry.register(run.id, name="aurelo-llm")
cli.deploy.canary(model_v.id, traffic=0.2)
</pre>
        </div>

        <!-- SLA & SLO Tables -->
        <div class="card" style="grid-column:span 4">
          <h3>SLA / SLO</h3>
          <table class="table">
            <thead><tr><th>Metric</th><th>Target</th><th>Current</th><th>Status</th></tr></thead>
            <tbody>
              <tr><td>Inference p95</td><td>≤ 60 ms</td><td>42 ms</td><td><span class="status ok">OK</span></td></tr>
              <tr><td>Train job queue</td><td>≤ 5 min</td><td>2.4 min</td><td><span class="status ok">OK</span></td></tr>
              <tr><td>Labeling P95</td><td>≤ 3 h</td><td>2.1 h</td><td><span class="status ok">OK</span></td></tr>
              <tr><td>Availability (30d)</td><td>≥ 99.9%</td><td>99.997%</td><td><span class="status ok">OK</span></td></tr>
            </tbody>
          </table>
        </div>

        <!-- Storage Layout & Hashes -->
        <div class="card" style="grid-column:span 8">
          <h3>Storage Object Layout (MinIO)</h3>
          <pre>s3://aurelo/
  datasets/
    retail_text_2025Q3/
      v3.4/manifest.jsonl (sha256:9af2b5d1…)
      v3.4/objects/0001.json
      v3.4/objects/0002.json
    vision_products/
      v1.9/manifest.jsonl (sha256:11d55c9…)
      v1.9/images/...
  models/
    aurelo-llm/
      v1.7/artifacts/ (sha256:7c91eab…)
      v1.7/card.md
  runs/
    000/249/metrics.json
</pre>
        </div>

        <!-- Quick Ops + Notes -->
        <div class="card" style="grid-column:span 12">
          <h3>Quick Ops</h3>
          <div class="sub">All actions audited; RBAC via Azure AD groups; changes require dual control on production.</div>
          <div class="sub">Feature flags: active_learning=true, pii_redaction=true, autoscale_strict=true</div>
        </div>
      </div>
      <div class="footer"><div>Confidential © 2025 Microknots</div><div>Build: Enterprise UI Mock v4</div></div>
    </section>

    <!-- Other views preserved (from prior version) -->
    <section id="view-datasets" style="display:none"><div class="card"><h3>Datasets</h3><div class="sub">(See prior tabs for full details — unchanged)</div></div></section>
    <section id="view-profiles" style="display:none"><div class="card"><h3>Profiles & Quality</h3><div class="sub">(Unchanged)</div></div></section>
    <section id="view-labeling" style="display:none"><div class="card"><h3>Labeling</h3><div class="sub">(Unchanged)</div></div></section>
    <section id="view-training" style="display:none"><div class="card"><h3>Training</h3><div class="sub">(Unchanged)</div></div></section>
    <section id="view-registry" style="display:none"><div class="card"><h3>Registry</h3><div class="sub">(Unchanged)</div></div></section>
    <section id="view-deploy" style="display:none"><div class="card"><h3>Deploy</h3><div class="sub">(Unchanged)</div></div></section>
    <section id="view-observability" style="display:none"><div class="card"><h3>Observability</h3><div class="sub">(Unchanged)</div></div></section>
    <section id="view-security" style="display:none"><div class="card"><h3>Security & Governance</h3><div class="sub">(Unchanged)</div></div></section>
    <section id="view-admin" style="display:none"><div class="card"><h3>Admin</h3><div class="sub">(Unchanged)</div></div></section>
    <section id="view-api" style="display:none"><div class="card"><h3>API & SDK</h3><div class="sub">(Unchanged)</div></div></section>

  </main>
</div>

<!-- Minimal JS: routing + toast -->
<div id="toast" style="position:fixed;right:18px;bottom:18px;background:#0f141d;border:1px solid #1e2432;color:#cbd2da;border-radius:8px;padding:10px 14px;opacity:0;transform:translateY(12px);transition:all .3s ease;pointer-events:none;z-index:1000">Action completed</div>
<script>
  const nav = document.getElementById('primaryNav');
  const views = ['overview','datasets','profiles','labeling','training','registry','deploy','observability','security','admin','api'];
  nav.addEventListener('click',(e)=>{
    const a = e.target.closest('a');
    if(!a) return; e.preventDefault();
    document.querySelectorAll('.nav a').forEach(el=>el.classList.remove('active'));
    a.classList.add('active');
    views.forEach(id=>{document.getElementById('view-'+id).style.display = (a.dataset.view===id)?'block':'none'});
  });
  function toast(msg){ const el = document.getElementById('toast'); el.textContent=msg; el.style.opacity=1; el.style.transform='translateY(0)'; clearTimeout(window.__t); window.__t=setTimeout(()=>{el.style.opacity=0; el.style.transform='translateY(12px)';}, 1800); }
</script>
</body>
</html>
